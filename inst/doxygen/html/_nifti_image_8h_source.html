<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RNifti: inst/include/lib/NiftiImage.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RNifti
   </div>
   <div id="projectbrief">Fast R and C++ Access to NIfTI Images</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_920884c6b3b2f0be94e27d51660adee5.html">inst</a></li><li class="navelem"><a class="el" href="dir_2b5d1a398a9eec011391d543f21db223.html">include</a></li><li class="navelem"><a class="el" href="dir_98a44f28b9ced65c076c4e168f5923c6.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NiftiImage.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _NIFTI_IMAGE_H_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define _NIFTI_IMAGE_H_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;Rcpp.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Defined since R 3.1.0, according to Tomas Kalibera, but there&#39;s no reason to break compatibility with 3.0.x</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef MAYBE_SHARED</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#define MAYBE_SHARED(x) (NAMED(x) &gt; 1)</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define R_NegInf -INFINITY</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;locale&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;niftilib/nifti1_io.h&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span>RNifti {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html">   52</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">   55</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>;                       </div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">   56</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>;                   </div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">   62</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">TypeHandler</a></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">virtual</span> ~<a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">TypeHandler</a>() {}</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> size ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> hasNaN ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">double</span> getDouble (<span class="keywordtype">void</span> *ptr) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">int</span> getInt (<span class="keywordtype">void</span> *ptr) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setDouble (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">double</span> value) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setInt (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">int</span> value) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> minmax (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <span class="keywordtype">double</span> *min, <span class="keywordtype">double</span> *max) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    };</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type&gt;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">   78</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler</a> : <span class="keyword">public</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">TypeHandler</a></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordtype">size_t</span> size ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keyword">sizeof</span>(Type)); }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordtype">bool</span> hasNaN ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::numeric_limits&lt;Type&gt;::has_quiet_NaN; }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">double</span> getDouble (<span class="keywordtype">void</span> *ptr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> static_cast&lt;double&gt;(*static_cast&lt;Type*&gt;(ptr)); }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordtype">int</span> getInt (<span class="keywordtype">void</span> *ptr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> static_cast&lt;int&gt;(*static_cast&lt;Type*&gt;(ptr)); }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">void</span> setDouble (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">double</span> value)<span class="keyword"> const </span>{ *(static_cast&lt;Type*&gt;(ptr)) = static_cast&lt;Type&gt;(value); }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordtype">void</span> setInt (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">int</span> value)<span class="keyword"> const </span>{ *(static_cast&lt;Type*&gt;(ptr)) = static_cast&lt;Type&gt;(value); }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordtype">void</span> minmax (<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <span class="keywordtype">double</span> *min, <span class="keywordtype">double</span> *max) <span class="keyword">const</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    };</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    </div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ad9b5928c05894f07b5711734519546f0">   94</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">TypeHandler</a> * <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad9b5928c05894f07b5711734519546f0">createHandler</a> ()</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a> == DT_NONE)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        </div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">case</span> DT_UINT8:   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;uint8_t&gt;</a>();  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">case</span> DT_INT16:   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;int16_t&gt;</a>();  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">case</span> DT_INT32:   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;int32_t&gt;</a>();  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">case</span> DT_FLOAT32: <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;float&gt;</a>();    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">case</span> DT_FLOAT64: <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;double&gt;</a>();   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">case</span> DT_INT8:    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;int8_t&gt;</a>();   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">case</span> DT_UINT16:  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;uint16_t&gt;</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">case</span> DT_UINT32:  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;uint32_t&gt;</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">case</span> DT_INT64:   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;int64_t&gt;</a>();  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">case</span> DT_UINT64:  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">ConcreteTypeHandler&lt;uint64_t&gt;</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unsupported data type (&quot;</span> + std::string(nifti_datatype_string(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>)) + <span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    </div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">  117</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>;                      </div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">  118</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>;                      </div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">  119</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">TypeHandler</a> *<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>;               </div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">  120</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>;                     </div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">  121</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">owner</a>;                         </div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">  133</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a> (<span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>, <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>, <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>, <span class="keyword">const</span> <span class="keywordtype">bool</span> alloc = <span class="keyword">true</span>)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        this-&gt;_length = <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        this-&gt;_datatype = <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        this-&gt;slope = <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        this-&gt;intercept = <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        </div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">owner</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a> = <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad9b5928c05894f07b5711734519546f0">createHandler</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a> == NULL)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> = NULL;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (alloc &amp;&amp; data == NULL)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> = calloc(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;size());</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">owner</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> = data;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    </div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#af0a02ca44de0e01f1dcf4c067d69cb1d">  159</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#af0a02ca44de0e01f1dcf4c067d69cb1d">calibrateFrom</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;data)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> = 1.0;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a> = 0.0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        </div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ab4585895eb4875be7112ecc45e0ae7cd">isInteger</a>())</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordtype">double</span> dataMin, dataMax, typeMin, typeMax;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            data.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a54d136635f5598a75f4816c2d2a85a39">minmax</a>(&amp;dataMin, &amp;dataMax);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;minmax(NULL, 0, &amp;typeMin, &amp;typeMax);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            </div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="comment">// If the source type is floating-point but values are in range, we will just round them</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">if</span> (dataMin &lt; typeMin || dataMax &gt; typeMax)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> = (dataMax - dataMin) / (typeMax - typeMin);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a> = dataMin - (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>) * typeMin;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">  183</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;parent;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordtype">void</span> *ptr;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        </div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#a99dad9729bdf6bd34b0d5197506efcbe">  196</a></span>&#160;        <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#a99dad9729bdf6bd34b0d5197506efcbe">Element</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;parent, <span class="keywordtype">void</span> *ptr = NULL)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            : parent(parent)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            this-&gt;ptr = (ptr == NULL ? parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> : ptr);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        </div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SourceType&gt;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a> &amp; <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#aaf4204310e1fd3dd49c18c90ef05b4fc">operator= </a>(<span class="keyword">const</span> SourceType &amp;value);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        </div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a> &amp; <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#aaf4204310e1fd3dd49c18c90ef05b4fc">operator= </a>(<span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a> &amp;other);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        </div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TargetType&gt;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#a3549c7efab91b93c95c9fb8eeda56e79">  223</a></span>&#160;        <span class="keyword">operator</span> TargetType()<span class="keyword"> const</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">if</span> (parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1fc8325e2db037d9374e254da0a0b8b4">isScaled</a>())</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">return</span> TargetType(parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;getDouble(ptr) * parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> + parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::numeric_limits&lt;TargetType&gt;::is_integer)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">return</span> TargetType(parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;getInt(ptr));</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">return</span> TargetType(parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;getDouble(ptr));</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    };</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    </div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">  237</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> : <span class="keyword">public</span> std::iterator&lt;std::random_access_iterator_tag, Element&gt;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;parent;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">void</span> *ptr;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">size_t</span> step;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        </div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">  252</a></span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;parent, <span class="keywordtype">void</span> *ptr = NULL, <span class="keyword">const</span> <span class="keywordtype">size_t</span> step = 0)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            : parent(parent)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            this-&gt;ptr = (ptr == NULL ? parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> : ptr);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            this-&gt;step = (step == 0 ? parent.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;size() : step);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        </div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a8694ec0dd4b36b2705d36ece804e74ae">  263</a></span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a8694ec0dd4b36b2705d36ece804e74ae">Iterator</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> &amp;other)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            : parent(other.parent), ptr(other.ptr), step(other.step) {}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        </div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> &amp; operator++ () { ptr = static_cast&lt;char*&gt;(ptr) + step; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> operator++ (<span class="keywordtype">int</span>) { <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> copy(*<span class="keyword">this</span>); ptr = static_cast&lt;char*&gt;(ptr) + step; <span class="keywordflow">return</span> copy; }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> operator+ (ptrdiff_t n)<span class="keyword"> const</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordtype">void</span> *newptr = static_cast&lt;char*&gt;(ptr) + (n * step);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a>(parent, newptr, step);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp; operator-- () { ptr = static_cast&lt;char*&gt;(ptr) - step; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> operator-- (<span class="keywordtype">int</span>) { <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> copy(*<span class="keyword">this</span>); ptr = static_cast&lt;char*&gt;(ptr) - step; <span class="keywordflow">return</span> copy; }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> operator- (ptrdiff_t n)<span class="keyword"> const</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordtype">void</span> *newptr = static_cast&lt;char*&gt;(ptr) - (n * step);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a>(parent, newptr, step);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        </div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        ptrdiff_t operator- (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp;other)<span class="keyword"> const</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keyword">const</span> ptrdiff_t difference = static_cast&lt;char*&gt;(ptr) - static_cast&lt;char*&gt;(other.ptr);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">return</span> difference / step;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        </div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordtype">bool</span> operator== (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp;other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (ptr==other.ptr &amp;&amp; step==other.step); }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordtype">bool</span> operator!= (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp;other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (ptr!=other.ptr || step!=other.step); }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordtype">bool</span> operator&gt; (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp;other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (ptr &gt; other.ptr); }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordtype">bool</span> operator&lt; (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">Iterator</a> &amp;other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (ptr &lt; other.ptr); }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        </div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">const</span> Element operator* ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Element(parent, ptr); }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        Element operator* () { <span class="keywordflow">return</span> Element(parent, ptr); }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keyword">const</span> Element operator[] (<span class="keyword">const</span> <span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Element(parent, static_cast&lt;char*&gt;(ptr) + (i * step)); }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        Element operator[] (<span class="keyword">const</span> <span class="keywordtype">size_t</span> i) { <span class="keywordflow">return</span> Element(parent, static_cast&lt;char*&gt;(ptr) + (i * step)); }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    };</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    </div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a29280247312c7f8d1074f3aa8c222dd5">  301</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a29280247312c7f8d1074f3aa8c222dd5">NiftiImageData</a> ()</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>(DT_NONE), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>(0), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>(1.0), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>(0.0), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">owner</a>(false) {}</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    </div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a6965a6daef33fa241d4cd77be7b3cab3">  313</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a6965a6daef33fa241d4cd77be7b3cab3">NiftiImageData</a> (<span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>, <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> = 1.0, <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a> = 0.0)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(data, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    </div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a12e3e2f44dc97fd89d648ff403b7481b">  322</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a12e3e2f44dc97fd89d648ff403b7481b">NiftiImageData</a> (nifti_image *image)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">if</span> (image == NULL)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(NULL, 0, DT_NONE, 0.0, 0.0, <span class="keyword">false</span>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(image-&gt;data, image-&gt;nvox, image-&gt;datatype, static_cast&lt;double&gt;(image-&gt;scl_slope), static_cast&lt;double&gt;(image-&gt;scl_inter), <span class="keyword">false</span>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    </div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ab05a4a35cc6f2e47c57486fd211c121b">  337</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ab05a4a35cc6f2e47c57486fd211c121b">NiftiImageData</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;source, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a> = DT_NONE)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(NULL, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>(), <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a> == DT_NONE ? source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>() : <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a> == DT_NONE || <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a> == source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>())</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            memcpy(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">totalBytes</a>());</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#af0a02ca44de0e01f1dcf4c067d69cb1d">calibrateFrom</a>(source);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            std::copy(source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">begin</a>(), source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a8d3ce6768dc2c333ac06c039f034a2d4">end</a>(), this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">begin</a>());</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> InputIterator&gt;</div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ac8babd1a04a2dd6a49c2beac196e2ab7">  357</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac8babd1a04a2dd6a49c2beac196e2ab7">NiftiImageData</a> (InputIterator from, InputIterator to, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a> = static_cast&lt;size_t&gt;(std::distance(from, to));</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(NULL, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>, 1.0, 0.0);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        std::copy(from, to, this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">begin</a>());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    </div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ab5b71eeb251a8eb35dc4b9378164d9cf">  367</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ab5b71eeb251a8eb35dc4b9378164d9cf">~NiftiImageData</a> ()</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (owner)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            free(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a291ebbb7b347a8aac46273cd411944ea">  379</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a291ebbb7b347a8aac46273cd411944ea">operator= </a>(<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;source)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> != NULL)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">// Free the old data, if we allocated it</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">owner</a>)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                free(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">init</a>(NULL, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a>(), source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a>(), source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            memcpy(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, source.<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">totalBytes</a>());</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    </div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a09885563011e9a614fa35aeaa29bf72d">  392</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a09885563011e9a614fa35aeaa29bf72d">blob</a> ()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>; }                </div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">  393</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">datatype</a> ()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>; }              </div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">  394</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">length</a> ()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>; }                </div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#abea0aea457bd6e8269098ccfab03c147">  395</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#abea0aea457bd6e8269098ccfab03c147">size</a> ()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>; }                </div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">  398</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">bytesPerPixel</a> ()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a> == NULL ? 0 : <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;size()); }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    </div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">  401</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">totalBytes</a> ()<span class="keyword"> const       </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a> * <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">bytesPerPixel</a>(); }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    </div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ae205097bf159ffde5d8b28219ce042da">  407</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ae205097bf159ffde5d8b28219ce042da">isEmpty</a> ()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a> == NULL); }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    </div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a1fc8325e2db037d9374e254da0a0b8b4">  414</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1fc8325e2db037d9374e254da0a0b8b4">isScaled</a> ()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> != 0.0 &amp;&amp; (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">slope</a> != 1.0 || <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">intercept</a> != 0.0)); }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    </div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#afb004caf42953e562f681c4d79001e2f">  420</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afb004caf42953e562f681c4d79001e2f">isComplex</a> ()<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    </div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a81ec89f42c5c2a7d5343fc36a0cb8a33">  427</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a81ec89f42c5c2a7d5343fc36a0cb8a33">isFloatingPoint</a> ()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a> == DT_FLOAT32 || <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a> == DT_FLOAT64); }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    </div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ab4585895eb4875be7112ecc45e0ae7cd">  433</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#ab4585895eb4875be7112ecc45e0ae7cd">isInteger</a> ()<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> nifti_is_inttype(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>); }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    </div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a0f935b2f58c582bff944bfc1f8d50ddf">  439</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a0f935b2f58c582bff944bfc1f8d50ddf">isRgb</a> ()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    </div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a47d192d3accab25b40be5c6bf8590e79">  445</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d192d3accab25b40be5c6bf8590e79">unscaled</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a29280247312c7f8d1074f3aa8c222dd5">NiftiImageData</a>(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">_datatype</a>); }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    </div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a5f145b2f0d45a22a27144a638cb2f2ec">  451</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a5f145b2f0d45a22a27144a638cb2f2ec">disown</a> ()       { this-&gt;owner = <span class="keyword">false</span>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    </div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">  454</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">begin</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a>(*<span class="keyword">this</span>); }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    </div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a8d3ce6768dc2c333ac06c039f034a2d4">  457</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a8d3ce6768dc2c333ac06c039f034a2d4">end</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a>(*<span class="keyword">this</span>, static_cast&lt;char*&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>) + <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">totalBytes</a>()); }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    </div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#acd4e31b5a4daf38193831967ae93c20b">  460</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#acd4e31b5a4daf38193831967ae93c20b">begin</a> () { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a>(*<span class="keyword">this</span>); }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    </div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a46d658a3d18a274ef5419628749bc37e">  463</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a46d658a3d18a274ef5419628749bc37e">end</a> () { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">Iterator</a>(*<span class="keyword">this</span>, static_cast&lt;char*&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>) + <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">totalBytes</a>()); }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    </div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a9ee504228dc39abdb308671b90a7966e">  470</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a9ee504228dc39abdb308671b90a7966e">operator[] </a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a>(*<span class="keyword">this</span>, static_cast&lt;char*&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>) + (i * <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">bytesPerPixel</a>())); }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    </div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#ac6b9bca4b0678c2536c9e3b6afac55f1">  477</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a9ee504228dc39abdb308671b90a7966e">operator[] </a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> i) { <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">Element</a>(*<span class="keyword">this</span>, static_cast&lt;char*&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>) + (i * <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">bytesPerPixel</a>())); }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    </div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image_data.html#a54d136635f5598a75f4816c2d2a85a39">  486</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a54d136635f5598a75f4816c2d2a85a39">minmax</a> (<span class="keywordtype">double</span> *min, <span class="keywordtype">double</span> *max)<span class="keyword"> const</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a> == NULL)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            *min = 0.0;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            *max = 0.0;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">handler</a>-&gt;minmax(<a class="code" href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">dataPtr</a>, <a class="code" href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">_length</a>, min, max);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;};</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keyword">template</span> &lt;&gt;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> NiftiImageData::ConcreteTypeHandler&lt;int&gt;::hasNaN ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html">  511</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">  518</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    {</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">  520</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>;        </div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">  521</a></span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>;            </div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">  522</a></span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a>;                </div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a9cfa242af69c4cf2d3e788170be52e8a">  531</a></span>&#160;        <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a9cfa242af69c4cf2d3e788170be52e8a">Block</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a>)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            : <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>), <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>), <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a>(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a>)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a> != <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;ndim)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Blocks must be along the last dimension in the image&quot;</span>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        </div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a53fc2b90aecfbff3de279d89e3745383">  546</a></span>&#160;        <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> &amp; <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a53fc2b90aecfbff3de279d89e3745383">operator= </a>(<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;source)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">if</span> (source-&gt;datatype != <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;datatype)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;New data does not have the same datatype as the target block&quot;</span>);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">if</span> (source-&gt;scl_slope != <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;scl_slope || source-&gt;scl_inter != <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;scl_inter)</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;New data does not have the same scale parameters as the target block&quot;</span>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            </div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordtype">size_t</span> blockSize = 1;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>; i++)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                blockSize *= <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#ac5366cb20d8ac181cbf1e91ff486aae6">dim</a>[i];</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            </div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            if (blockSize != source-&gt;nvox)</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;New data does not have the same size as the target block&quot;</span>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            </div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            blockSize *= <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;nbyper;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            memcpy(static_cast&lt;char*&gt;(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a>) + blockSize*<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a>, source-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a>, blockSize);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        </div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a09a1228a7a914f685b7bec62fb640f72">  569</a></span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a09a1228a7a914f685b7bec62fb640f72">data</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>.<a class="code" href="class_r_nifti_1_1_nifti_image.html#a59de4f1dc18aebce27f2abcbe2fe3a97">isNull</a>())</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordtype">size_t</span> blockSize = 1;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">dimension</a>; i++)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    blockSize *= <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#ac5366cb20d8ac181cbf1e91ff486aae6">dim</a>[i];</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a>(static_cast&lt;char*&gt;(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a>) + blockSize * <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">index</a> * <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;nbyper, blockSize, <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;datatype, static_cast&lt;double&gt;(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;scl_slope), static_cast&lt;double&gt;(<a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">image</a>-&gt;scl_inter));</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        </div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TargetType&gt;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        std::vector&lt;TargetType&gt; <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a6a97064f15e2c8f7bb8fb7dfc116a3fb">getData</a> (<span class="keyword">const</span> <span class="keywordtype">bool</span> useSlope = <span class="keyword">true</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    };</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    </div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> sexpTypeToNiftiType (<span class="keyword">const</span> <span class="keywordtype">int</span> sexpType)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> (sexpType == INTSXP || sexpType == LGLSXP)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">return</span> DT_INT32;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sexpType == REALSXP)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">return</span> DT_FLOAT64;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Array elements must be numeric&quot;</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    </div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keyword">static</span> mat33 <a class="code" href="class_r_nifti_1_1_nifti_image.html#ae02fad418f34ee2e24fa7ed1fb6a9741">xformToRotation</a> (<span class="keyword">const</span> mat44 matrix);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    </div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keyword">static</span> std::string <a class="code" href="class_r_nifti_1_1_nifti_image.html#a93f2f97cb956d099ad7f1c6dd893dbf2">xformToString</a> (<span class="keyword">const</span> mat44 matrix);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    </div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a328c8d10d4ec7ba292f7490611db4bef">fileVersion</a> (<span class="keyword">const</span> std::string &amp;path);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    </div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">  635</a></span>&#160;    nifti_image *<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>;         </div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">  636</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>;              </div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">acquire</a> (nifti_image * <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    </div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a322c4f4ebb6b823bf23606299954e9bb">  650</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a322c4f4ebb6b823bf23606299954e9bb">acquire</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;source)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a> = source.<a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">acquire</a>(source.<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    </div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a0204d82646631cc25ac22c5f430c59d4">release</a> ();</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    </div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a> (<span class="keyword">const</span> nifti_image *source);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    </div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;source);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    </div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a> (<span class="keyword">const</span> Block &amp;source);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">void</span> initFromNiftiS4 (<span class="keyword">const</span> Rcpp::RObject &amp;<span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    </div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">void</span> initFromMriImage (<span class="keyword">const</span> Rcpp::RObject &amp;<span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    </div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">void</span> initFromList (<span class="keyword">const</span> Rcpp::RObject &amp;<span class="keywordtype">object</span>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    </div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordtype">void</span> initFromArray (<span class="keyword">const</span> Rcpp::RObject &amp;<span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   </div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a954ca90ccb1349198d5442e013314558">updatePixdim</a> (<span class="keyword">const</span> std::vector&lt;float&gt; &amp;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a40f286f508c80c8df32d8296db25184c">pixdim</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    </div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a21c9f48de4da893dacc0f37eed32828e">setPixunits</a> (<span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;pixunits);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    </div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#aed50ae63672f885e055297668939d93f">  728</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#aed50ae63672f885e055297668939d93f">NiftiImage</a> ()</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>(NULL) {}</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    </div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a16aa72d6a36b227ae6f2cf75ee375bc6">  737</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#a16aa72d6a36b227ae6f2cf75ee375bc6">NiftiImage</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;source, <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a> = <span class="keyword">true</span>)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>(NULL)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>(source);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">acquire</a>(source);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from NiftiImage)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    </div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a62e0f6d021e70c36c5686b3fee28361c">  753</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#a62e0f6d021e70c36c5686b3fee28361c">NiftiImage</a> (<span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> &amp;source)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>(NULL)</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>(source);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from Block)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    </div><div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ab6eb7f96975d7aaaf3879f521a28b217">  768</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab6eb7f96975d7aaaf3879f521a28b217">NiftiImage</a> (nifti_image * <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>, <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a> = <span class="keyword">false</span>)</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>(NULL)</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            this-&gt;<a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>(image);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">acquire</a>(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from pointer)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    </div><div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#afb942134a1c991ed7c3a0e30963fb100">  786</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#afb942134a1c991ed7c3a0e30963fb100">NiftiImage</a> (<span class="keyword">const</span> std::string &amp;path, <span class="keyword">const</span> <span class="keywordtype">bool</span> readData = <span class="keyword">true</span>)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        : <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>(NULL), <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a>(NULL)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">acquire</a>(nifti_image_read(path.c_str(), readData));</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to read image from path &quot;</span> + path);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from string)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    </div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#aed50ae63672f885e055297668939d93f">NiftiImage</a> (<span class="keyword">const</span> std::string &amp;path, <span class="keyword">const</span> std::vector&lt;int&gt; &amp;volumes);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    </div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html#aed50ae63672f885e055297668939d93f">NiftiImage</a> (<span class="keyword">const</span> SEXP <span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> readData = <span class="keyword">true</span>, <span class="keyword">const</span> <span class="keywordtype">bool</span> readOnly = <span class="keyword">false</span>);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    </div><div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a5ec15c8ad46eedb6498d007202389e0c">  823</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a5ec15c8ad46eedb6498d007202389e0c">~NiftiImage</a> () { <a class="code" href="class_r_nifti_1_1_nifti_image.html#a0204d82646631cc25ac22c5f430c59d4">release</a>(); }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    </div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#af64d7fcf5e1a981931c8f539705ea364">  828</a></span>&#160;    <span class="keyword">operator</span> <span class="keyword">const</span> nifti_image* () <span class="keyword">const</span> { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>; }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    </div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a2c8d20d6d020b8fa890aacc82e1dfc00">  833</a></span>&#160;    <span class="keyword">operator</span> nifti_image* () { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>; }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   </div><div class="line"><a name="l00838"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a68659ddd6865b3c2995f0144d2aa35c8">  838</a></span>&#160;    <span class="keyword">const</span> nifti_image * <a class="code" href="class_r_nifti_1_1_nifti_image.html#a68659ddd6865b3c2995f0144d2aa35c8">operator-&gt; </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>; }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    </div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#afb49b27d720e7ce6e83377dd3a80dd39">  843</a></span>&#160;    nifti_image * <a class="code" href="class_r_nifti_1_1_nifti_image.html#a68659ddd6865b3c2995f0144d2aa35c8">operator-&gt; </a>() { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>; }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    </div><div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a62e1339b330697e2f684880aa9465ef7">  849</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a62e1339b330697e2f684880aa9465ef7">operator= </a>(<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp;source)</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>(source);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from NiftiImage)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    </div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a7ec9393480a1395e14afc4fc5393faa1">  863</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a62e1339b330697e2f684880aa9465ef7">operator= </a>(<span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> &amp;source)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">copy</a>(source);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        Rc_printf(<span class="stringliteral">&quot;Creating NiftiImage with pointer %p (from Block)\n&quot;</span>, this-&gt;image);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    </div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ac2659bd59e1d35416f97b88f6618bedc">  879</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac2659bd59e1d35416f97b88f6618bedc">setPersistence</a> (<span class="keyword">const</span> <span class="keywordtype">bool</span> persistent) { <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    </div><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a59de4f1dc18aebce27f2abcbe2fe3a97">  885</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a59de4f1dc18aebce27f2abcbe2fe3a97">isNull</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL); }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    </div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a75890fe868c735e7011f62c39a1e0eb2">  891</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a75890fe868c735e7011f62c39a1e0eb2">isShared</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a> != NULL &amp;&amp; *<a class="code" href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">refCount</a> &gt; 1); }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    </div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a94eda3b3041314354f9b314d95a116d1">  899</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a94eda3b3041314354f9b314d95a116d1">isPersistent</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    </div><div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a1e4a5e5391215ab54bfc0c823652ad78">  906</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a1e4a5e5391215ab54bfc0c823652ad78">isDataScaled</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> != NULL &amp;&amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;scl_slope != 0.0 &amp;&amp; (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;scl_slope != 1.0 || <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;scl_inter != 0.0)); }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    </div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ab6e0cdb0a6d381077299e6ccf057098c">  912</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab6e0cdb0a6d381077299e6ccf057098c">nDims</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL)</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    </div><div class="line"><a name="l00924"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ac5366cb20d8ac181cbf1e91ff486aae6">  924</a></span>&#160;    std::vector&lt;int&gt; <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac5366cb20d8ac181cbf1e91ff486aae6">dim</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL)</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keywordflow">return</span> std::vector&lt;int&gt;();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">return</span> std::vector&lt;int&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;dim+1, <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;dim+<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim+1);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    </div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a40f286f508c80c8df32d8296db25184c">  936</a></span>&#160;    std::vector&lt;float&gt; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a40f286f508c80c8df32d8296db25184c">pixdim</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL)</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="keywordflow">return</span> std::vector&lt;float&gt;();</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="keywordflow">return</span> std::vector&lt;float&gt;(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;pixdim+1, <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;pixdim+<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim+1);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    </div><div class="line"><a name="l00950"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a73e10f56037f2f41bd5d306c29b3b4f1">  950</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a73e10f56037f2f41bd5d306c29b3b4f1">drop</a> ()</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordtype">int</span> ndim = <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;dim[ndim] &lt; 2)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            ndim--;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;dim[0] = <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim = ndim;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        </div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    </div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">  964</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a>(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>); }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    </div><div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ab0d6288e0cc591cd6bb374429efeef93">  970</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab0d6288e0cc591cd6bb374429efeef93">data</a> () { <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a>(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>); }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    </div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TargetType&gt;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    std::vector&lt;TargetType&gt; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a8a4c7ddbb589b70e0560b781e5b42d4d">getData</a> (<span class="keyword">const</span> <span class="keywordtype">bool</span> useSlope = <span class="keyword">true</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    </div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a359c9fc816ee752a27ee15b88b625a38">changeDatatype</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> datatype, <span class="keyword">const</span> <span class="keywordtype">bool</span> useSlope = <span class="keyword">false</span>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    </div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a359c9fc816ee752a27ee15b88b625a38">changeDatatype</a> (<span class="keyword">const</span> std::string &amp;datatype, <span class="keyword">const</span> <span class="keywordtype">bool</span> useSlope = <span class="keyword">false</span>);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    </div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SourceType&gt;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a4db6fa567beeaecd6e0abedac0b22fd1">replaceData</a> (<span class="keyword">const</span> std::vector&lt;SourceType&gt; &amp;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> datatype = DT_NONE);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    </div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a4db6fa567beeaecd6e0abedac0b22fd1">replaceData</a> (<span class="keyword">const</span> <a class="code" href="class_r_nifti_1_1_nifti_image_data.html">NiftiImageData</a> &amp;<a class="code" href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">data</a>);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    </div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#aad6f31a5bfc073ef4ea0648c29d75932"> 1025</a></span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#aad6f31a5bfc073ef4ea0648c29d75932">dropData</a> ()</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        nifti_image_unload(<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    </div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac6a52ba9aed6fec2097218d49ab0cfbb">rescale</a> (<span class="keyword">const</span> std::vector&lt;float&gt; &amp;scales);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    </div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a0f3120655b15e3fa849d166a4e5873fc">reorient</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i, <span class="keyword">const</span> <span class="keywordtype">int</span> j, <span class="keyword">const</span> <span class="keywordtype">int</span> k);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    </div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; <a class="code" href="class_r_nifti_1_1_nifti_image.html#a0f3120655b15e3fa849d166a4e5873fc">reorient</a> (<span class="keyword">const</span> std::string &amp;orientation);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    </div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="class_r_nifti_1_1_nifti_image.html">NiftiImage</a> &amp; update (<span class="keyword">const</span> Rcpp::RObject &amp;<span class="keywordtype">object</span>);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    </div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    mat44 <a class="code" href="class_r_nifti_1_1_nifti_image.html#adef4fc3497a306e281d5fd8df6234957">xform</a> (<span class="keyword">const</span> <span class="keywordtype">bool</span> preferQuaternion = <span class="keyword">true</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    </div><div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a158ea846578bfea26bdbbc7ad4e7ede0"> 1079</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a158ea846578bfea26bdbbc7ad4e7ede0">nBlocks</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a> == NULL)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;dim[<a class="code" href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">image</a>-&gt;ndim];</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    </div><div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a863694f20c787839093e13f41af70255"> 1094</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a863694f20c787839093e13f41af70255">block</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab6e0cdb0a6d381077299e6ccf057098c">nDims</a>(), i); }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    </div><div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a96a7386170f4146a834cbefe280b35be"> 1103</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a96a7386170f4146a834cbefe280b35be">block</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab6e0cdb0a6d381077299e6ccf057098c">nDims</a>(), i); }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    </div><div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ad8c9cb9aa058c5bd950822851ab03a37"> 1110</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ad8c9cb9aa058c5bd950822851ab03a37">slice</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, 3, i); }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    </div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#a9ca2e864f59b482e52c8553d029662ac"> 1117</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a9ca2e864f59b482e52c8553d029662ac">slice</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, 3, i); }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    </div><div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ac416f242d48fe60da4dc5d8f4ad04c20"> 1124</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ac416f242d48fe60da4dc5d8f4ad04c20">volume</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, 4, i); }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    </div><div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="class_r_nifti_1_1_nifti_image.html#ab7dc18d35249622b5dc43171cceee9fe"> 1131</a></span>&#160;    <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a> <a class="code" href="class_r_nifti_1_1_nifti_image.html#ab7dc18d35249622b5dc43171cceee9fe">volume</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="struct_r_nifti_1_1_nifti_image_1_1_block.html">Block</a>(*<span class="keyword">this</span>, 4, i); }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    </div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a4417d0b493d4a8699737998b1fccaf24">toFile</a> (<span class="keyword">const</span> std::string fileName, <span class="keyword">const</span> <span class="keywordtype">int</span> datatype = DT_NONE) <span class="keyword">const</span>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    </div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_r_nifti_1_1_nifti_image.html#a4417d0b493d4a8699737998b1fccaf24">toFile</a> (<span class="keyword">const</span> std::string fileName, <span class="keyword">const</span> std::string &amp;datatype) <span class="keyword">const</span>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    </div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">#ifdef USING_R</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    </div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    Rcpp::RObject toArray () <span class="keyword">const</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    </div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    Rcpp::RObject toPointer (<span class="keyword">const</span> std::string label) <span class="keyword">const</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    </div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    Rcpp::RObject toArrayOrPointer (<span class="keyword">const</span> <span class="keywordtype">bool</span> <span class="keyword">internal</span>, <span class="keyword">const</span> std::string label) <span class="keyword">const</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    </div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    Rcpp::RObject headerToList () <span class="keyword">const</span>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    </div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;};</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">// Include implementations</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">#include &quot;lib/NiftiImage_impl.h&quot;</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;} <span class="comment">// main namespace</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ab4585895eb4875be7112ecc45e0ae7cd"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ab4585895eb4875be7112ecc45e0ae7cd">RNifti::NiftiImageData::isInteger</a></div><div class="ttdeci">bool isInteger() const</div><div class="ttdoc">Determine whether the datatype is an integer type.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:433</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_aed50ae63672f885e055297668939d93f"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#aed50ae63672f885e055297668939d93f">RNifti::NiftiImage::NiftiImage</a></div><div class="ttdeci">NiftiImage()</div><div class="ttdoc">Default constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:728</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a2d06613749b13b1146cf6684dd4525a9"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a2d06613749b13b1146cf6684dd4525a9">RNifti::NiftiImage::Block::index</a></div><div class="ttdeci">const int index</div><div class="ttdoc">The location along dimension.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:522</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a93f2f97cb956d099ad7f1c6dd893dbf2"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a93f2f97cb956d099ad7f1c6dd893dbf2">RNifti::NiftiImage::xformToString</a></div><div class="ttdeci">static std::string xformToString(const mat44 matrix)</div><div class="ttdoc">Convert a 4x4 xform matrix to a string describing its canonical axes.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ac5366cb20d8ac181cbf1e91ff486aae6"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ac5366cb20d8ac181cbf1e91ff486aae6">RNifti::NiftiImage::dim</a></div><div class="ttdeci">std::vector&lt; int &gt; dim() const</div><div class="ttdoc">Return the dimensions of the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:924</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a68659ddd6865b3c2995f0144d2aa35c8"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a68659ddd6865b3c2995f0144d2aa35c8">RNifti::NiftiImage::operator-&gt;</a></div><div class="ttdeci">const nifti_image * operator-&gt;() const</div><div class="ttdoc">Allows a NiftiImage object to be treated as a pointer to a const nifti_image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:838</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ad439731537b2e0e2ea838f12e11cacba"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ad439731537b2e0e2ea838f12e11cacba">RNifti::NiftiImageData::init</a></div><div class="ttdeci">void init(void *data, const size_t length, const int datatype, const double slope, const double intercept, const bool alloc=true)</div><div class="ttdoc">Initialiser method, used by constructors.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:133</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a01e006a430bec6822bfd9bb696041596"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a01e006a430bec6822bfd9bb696041596">RNifti::NiftiImageData::datatype</a></div><div class="ttdeci">int datatype() const</div><div class="ttdoc">Return stored datatype code.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:393</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a58e73443eadd3f933653844d74bed783"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a58e73443eadd3f933653844d74bed783">RNifti::NiftiImageData::begin</a></div><div class="ttdeci">const Iterator begin() const</div><div class="ttdoc">Obtain a constant iterator corresponding to the start of the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:454</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_afb004caf42953e562f681c4d79001e2f"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#afb004caf42953e562f681c4d79001e2f">RNifti::NiftiImageData::isComplex</a></div><div class="ttdeci">bool isComplex() const</div><div class="ttdoc">Determine whether the datatype is complex.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:420</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ac6a52ba9aed6fec2097218d49ab0cfbb"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ac6a52ba9aed6fec2097218d49ab0cfbb">RNifti::NiftiImage::rescale</a></div><div class="ttdeci">NiftiImage &amp; rescale(const std::vector&lt; float &gt; &amp;scales)</div><div class="ttdoc">Rescale the image, changing its image dimensions and pixel dimensions.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a0f935b2f58c582bff944bfc1f8d50ddf"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a0f935b2f58c582bff944bfc1f8d50ddf">RNifti::NiftiImageData::isRgb</a></div><div class="ttdeci">bool isRgb() const</div><div class="ttdoc">Determine whether the datatype corresponds to an RGB value.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:439</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a8e1b092d6237daa18abb08ac966a3c80"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a8e1b092d6237daa18abb08ac966a3c80">RNifti::NiftiImage::refCount</a></div><div class="ttdeci">int * refCount</div><div class="ttdoc">A reference counter, shared with other objects wrapping the same pointer.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:636</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler_html"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_data_1_1_type_handler.html">RNifti::NiftiImageData::TypeHandler</a></div><div class="ttdoc">Abstract inner class defining the type-specific functions required in concrete subclasses.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:62</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a9ee504228dc39abdb308671b90a7966e"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a9ee504228dc39abdb308671b90a7966e">RNifti::NiftiImageData::operator[]</a></div><div class="ttdeci">const Element operator[](const size_t i) const</div><div class="ttdoc">Indexing operator, returning a constant element.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:470</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a46d658a3d18a274ef5419628749bc37e"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a46d658a3d18a274ef5419628749bc37e">RNifti::NiftiImageData::end</a></div><div class="ttdeci">Iterator end()</div><div class="ttdoc">Obtain a mutable iterator corresponding to the end of the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:463</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a4db6fa567beeaecd6e0abedac0b22fd1"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a4db6fa567beeaecd6e0abedac0b22fd1">RNifti::NiftiImage::replaceData</a></div><div class="ttdeci">NiftiImage &amp; replaceData(const std::vector&lt; SourceType &gt; &amp;data, const int datatype=DT_NONE)</div><div class="ttdoc">Replace the pixel data in the image with the contents of a vector.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a40f286f508c80c8df32d8296db25184c"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a40f286f508c80c8df32d8296db25184c">RNifti::NiftiImage::pixdim</a></div><div class="ttdeci">std::vector&lt; float &gt; pixdim() const</div><div class="ttdoc">Return the dimensions of the pixels or voxels in the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:936</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a54d136635f5598a75f4816c2d2a85a39"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a54d136635f5598a75f4816c2d2a85a39">RNifti::NiftiImageData::minmax</a></div><div class="ttdeci">void minmax(double *min, double *max) const</div><div class="ttdoc">Calculate the minimum and maximum values in the blob, as doubles.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:486</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler_html"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_data_1_1_concrete_type_handler.html">RNifti::NiftiImageData::ConcreteTypeHandler</a></div><div class="ttdoc">Concrete inner class template defining behaviour specific to individual data types.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:78</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_afb942134a1c991ed7c3a0e30963fb100"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#afb942134a1c991ed7c3a0e30963fb100">RNifti::NiftiImage::NiftiImage</a></div><div class="ttdeci">NiftiImage(const std::string &amp;path, const bool readData=true)</div><div class="ttdoc">Initialise using a path string.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:786</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_abea0aea457bd6e8269098ccfab03c147"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#abea0aea457bd6e8269098ccfab03c147">RNifti::NiftiImageData::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">Return the number of elements in the data.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:395</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_1_1_iterator_html"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html">RNifti::NiftiImageData::Iterator</a></div><div class="ttdoc">Iterator type for NiftiImageData, with Element as its value type.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:237</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a5d74d8ab82313364907a532494efbb6c"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a5d74d8ab82313364907a532494efbb6c">RNifti::NiftiImageData::slope</a></div><div class="ttdeci">double slope</div><div class="ttdoc">The slope term used to scale data values.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:55</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ab6eb7f96975d7aaaf3879f521a28b217"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ab6eb7f96975d7aaaf3879f521a28b217">RNifti::NiftiImage::NiftiImage</a></div><div class="ttdeci">NiftiImage(nifti_image *const image, const bool copy=false)</div><div class="ttdoc">Initialise using an existing nifti_image pointer.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:768</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a6965a6daef33fa241d4cd77be7b3cab3"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a6965a6daef33fa241d4cd77be7b3cab3">RNifti::NiftiImageData::NiftiImageData</a></div><div class="ttdeci">NiftiImageData(void *data, const size_t length, const int datatype, const double slope=1.0, const double intercept=0.0)</div><div class="ttdoc">Primary constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:313</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a53fc2b90aecfbff3de279d89e3745383"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a53fc2b90aecfbff3de279d89e3745383">RNifti::NiftiImage::Block::operator=</a></div><div class="ttdeci">Block &amp; operator=(const NiftiImage &amp;source)</div><div class="ttdoc">Copy assignment operator, which allows a block in one image to be replaced with the contents of anoth...</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:546</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a59de4f1dc18aebce27f2abcbe2fe3a97"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a59de4f1dc18aebce27f2abcbe2fe3a97">RNifti::NiftiImage::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Determine whether or not the wrapped pointer is NULL.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:885</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html">RNifti::NiftiImage::Block</a></div><div class="ttdoc">Inner class referring to a subset of an image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:518</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a9ca2e864f59b482e52c8553d029662ac"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a9ca2e864f59b482e52c8553d029662ac">RNifti::NiftiImage::slice</a></div><div class="ttdeci">Block slice(const int i)</div><div class="ttdoc">Extract a slice block from a 3D image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1117</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a72e6b937fe66d57733dcdd5b21a35329"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a72e6b937fe66d57733dcdd5b21a35329">RNifti::NiftiImage::data</a></div><div class="ttdeci">const NiftiImageData data() const</div><div class="ttdoc">Obtain the pixel data within the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:964</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a75890fe868c735e7011f62c39a1e0eb2"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a75890fe868c735e7011f62c39a1e0eb2">RNifti::NiftiImage::isShared</a></div><div class="ttdeci">bool isShared() const</div><div class="ttdoc">Determine whether the wrapped pointer is shared with another NiftiImage.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:891</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a322c4f4ebb6b823bf23606299954e9bb"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a322c4f4ebb6b823bf23606299954e9bb">RNifti::NiftiImage::acquire</a></div><div class="ttdeci">void acquire(const NiftiImage &amp;source)</div><div class="ttdoc">Acquire the same pointer as another NiftiImage, incrementing the shared reference count.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:650</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a29280247312c7f8d1074f3aa8c222dd5"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a29280247312c7f8d1074f3aa8c222dd5">RNifti::NiftiImageData::NiftiImageData</a></div><div class="ttdeci">NiftiImageData()</div><div class="ttdoc">Default constructor, creating an empty data object.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:301</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_1_1_iterator_html_a5f127a5b057b7f68513cae3a9bca3378"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a5f127a5b057b7f68513cae3a9bca3378">RNifti::NiftiImageData::Iterator::Iterator</a></div><div class="ttdeci">Iterator(const NiftiImageData &amp;parent, void *ptr=NULL, const size_t step=0)</div><div class="ttdoc">Primary constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:252</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ac081e725c7cd21f4c7d63c734e603c95"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ac081e725c7cd21f4c7d63c734e603c95">RNifti::NiftiImage::acquire</a></div><div class="ttdeci">void acquire(nifti_image *const image)</div><div class="ttdoc">Acquire the specified pointer to a nifti_image struct, taking (possibly shared) responsibility for fr...</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a1e4a5e5391215ab54bfc0c823652ad78"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a1e4a5e5391215ab54bfc0c823652ad78">RNifti::NiftiImage::isDataScaled</a></div><div class="ttdeci">bool isDataScaled() const</div><div class="ttdoc">Determine whether nontrivial scale and slope parameters are set.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:906</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ad8c9cb9aa058c5bd950822851ab03a37"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ad8c9cb9aa058c5bd950822851ab03a37">RNifti::NiftiImage::slice</a></div><div class="ttdeci">const Block slice(const int i) const</div><div class="ttdoc">Extract a slice block from a 3D image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1110</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a09a1228a7a914f685b7bec62fb640f72"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a09a1228a7a914f685b7bec62fb640f72">RNifti::NiftiImage::Block::data</a></div><div class="ttdeci">NiftiImageData data() const</div><div class="ttdoc">Obtain the data within the block.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:569</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ac416f242d48fe60da4dc5d8f4ad04c20"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ac416f242d48fe60da4dc5d8f4ad04c20">RNifti::NiftiImage::volume</a></div><div class="ttdeci">const Block volume(const int i) const</div><div class="ttdoc">Extract a volume block from a 4D image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1124</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ac3b3b9f91252f9f0c11f5b249d728fdb"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ac3b3b9f91252f9f0c11f5b249d728fdb">RNifti::NiftiImageData::owner</a></div><div class="ttdeci">bool owner</div><div class="ttdoc">An indicator of whether this object is responsible for cleaning up the data.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:121</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a94eda3b3041314354f9b314d95a116d1"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a94eda3b3041314354f9b314d95a116d1">RNifti::NiftiImage::isPersistent</a></div><div class="ttdeci">bool isPersistent() const</div><div class="ttdoc">Determine whether or not the image is marked as persistent.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:899</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a47d1a99723ce2b693e8162db8124e2d2"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a47d1a99723ce2b693e8162db8124e2d2">RNifti::NiftiImageData::totalBytes</a></div><div class="ttdeci">size_t totalBytes() const</div><div class="ttdoc">Return the total size of the data blob, in bytes.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:401</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a6a97064f15e2c8f7bb8fb7dfc116a3fb"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a6a97064f15e2c8f7bb8fb7dfc116a3fb">RNifti::NiftiImage::Block::getData</a></div><div class="ttdeci">std::vector&lt; TargetType &gt; getData(const bool useSlope=true) const</div><div class="ttdoc">Extract a vector of data from a block, casting it to any required element type.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a21c9f48de4da893dacc0f37eed32828e"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a21c9f48de4da893dacc0f37eed32828e">RNifti::NiftiImage::setPixunits</a></div><div class="ttdeci">void setPixunits(const std::vector&lt; std::string &gt; &amp;pixunits)</div><div class="ttdoc">Modify the pixel dimension units.</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_data_1_1_element_html_aaf4204310e1fd3dd49c18c90ef05b4fc"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#aaf4204310e1fd3dd49c18c90ef05b4fc">RNifti::NiftiImageData::Element::operator=</a></div><div class="ttdeci">Element &amp; operator=(const SourceType &amp;value)</div><div class="ttdoc">Copy assignment operator.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a1c00c50a2cd16c2eab8435fbf05c6b94"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a1c00c50a2cd16c2eab8435fbf05c6b94">RNifti::NiftiImageData::bytesPerPixel</a></div><div class="ttdeci">size_t bytesPerPixel() const</div><div class="ttdoc">Return the number of bytes used per element, or zero if the datatype is undefined or the blob is NULL...</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:398</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a09885563011e9a614fa35aeaa29bf72d"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a09885563011e9a614fa35aeaa29bf72d">RNifti::NiftiImageData::blob</a></div><div class="ttdeci">void * blob() const</div><div class="ttdoc">Return an opaque pointer to the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:392</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a62e0f6d021e70c36c5686b3fee28361c"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a62e0f6d021e70c36c5686b3fee28361c">RNifti::NiftiImage::NiftiImage</a></div><div class="ttdeci">NiftiImage(const Block &amp;source)</div><div class="ttdoc">Initialise from a block, copying in the data.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:753</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a5ec15c8ad46eedb6498d007202389e0c"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a5ec15c8ad46eedb6498d007202389e0c">RNifti::NiftiImage::~NiftiImage</a></div><div class="ttdeci">virtual ~NiftiImage()</div><div class="ttdoc">Destructor which decrements the reference counter, and releases the wrapped pointer if the counter dr...</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:823</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html">RNifti::NiftiImage</a></div><div class="ttdoc">Thin wrapper around a C-style nifti_image struct that allows C++-style destruction.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:511</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ab5b71eeb251a8eb35dc4b9378164d9cf"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ab5b71eeb251a8eb35dc4b9378164d9cf">RNifti::NiftiImageData::~NiftiImageData</a></div><div class="ttdeci">virtual ~NiftiImageData()</div><div class="ttdoc">Destructor which frees the type handler, and the data blob if it is owned by this object.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:367</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a3a37b63398fdf338c91731007b19933a"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a3a37b63398fdf338c91731007b19933a">RNifti::NiftiImageData::_datatype</a></div><div class="ttdeci">int _datatype</div><div class="ttdoc">Datatype code indicating the actual type of the elements.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:118</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a16aa72d6a36b227ae6f2cf75ee375bc6"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a16aa72d6a36b227ae6f2cf75ee375bc6">RNifti::NiftiImage::NiftiImage</a></div><div class="ttdeci">NiftiImage(const NiftiImage &amp;source, const bool copy=true)</div><div class="ttdoc">Copy constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:737</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a291ebbb7b347a8aac46273cd411944ea"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a291ebbb7b347a8aac46273cd411944ea">RNifti::NiftiImageData::operator=</a></div><div class="ttdeci">NiftiImageData &amp; operator=(const NiftiImageData &amp;source)</div><div class="ttdoc">Copy assignment operator.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:379</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a4120de271d40a233d8d017919ca72b92"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a4120de271d40a233d8d017919ca72b92">RNifti::NiftiImageData::handler</a></div><div class="ttdeci">TypeHandler * handler</div><div class="ttdoc">Type handler, which is created to match the datatype.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:119</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a158ea846578bfea26bdbbc7ad4e7ede0"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a158ea846578bfea26bdbbc7ad4e7ede0">RNifti::NiftiImage::nBlocks</a></div><div class="ttdeci">int nBlocks() const</div><div class="ttdoc">Return the number of blocks in the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1079</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_data_1_1_element_html"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html">RNifti::NiftiImageData::Element</a></div><div class="ttdoc">Inner class representing a single element in the data blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:183</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a0204d82646631cc25ac22c5f430c59d4"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a0204d82646631cc25ac22c5f430c59d4">RNifti::NiftiImage::release</a></div><div class="ttdeci">void release()</div><div class="ttdoc">Release the currently wrapped pointer, if it is not NULL, decrementing the reference count and releas...</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_af0a02ca44de0e01f1dcf4c067d69cb1d"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#af0a02ca44de0e01f1dcf4c067d69cb1d">RNifti::NiftiImageData::calibrateFrom</a></div><div class="ttdeci">void calibrateFrom(const NiftiImageData &amp;data)</div><div class="ttdoc">Update the slope and intercept to cover the range of another data object.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:159</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_ae1e9134978a127793003a06619e87440"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#ae1e9134978a127793003a06619e87440">RNifti::NiftiImage::Block::dimension</a></div><div class="ttdeci">const int dimension</div><div class="ttdoc">The dimension along which the block applies (which should be the last)</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:521</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a44ac6e7ad9b070041bad4a63724d76b3"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a44ac6e7ad9b070041bad4a63724d76b3">RNifti::NiftiImage::Block::image</a></div><div class="ttdeci">const NiftiImage &amp; image</div><div class="ttdoc">The parent image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:520</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a62e1339b330697e2f684880aa9465ef7"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a62e1339b330697e2f684880aa9465ef7">RNifti::NiftiImage::operator=</a></div><div class="ttdeci">NiftiImage &amp; operator=(const NiftiImage &amp;source)</div><div class="ttdoc">Copy assignment operator, which copies from its argument.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:849</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a359c9fc816ee752a27ee15b88b625a38"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a359c9fc816ee752a27ee15b88b625a38">RNifti::NiftiImage::changeDatatype</a></div><div class="ttdeci">NiftiImage &amp; changeDatatype(const int datatype, const bool useSlope=false)</div><div class="ttdoc">Change the datatype of the image, casting the pixel data if present.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a47d192d3accab25b40be5c6bf8590e79"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a47d192d3accab25b40be5c6bf8590e79">RNifti::NiftiImageData::unscaled</a></div><div class="ttdeci">NiftiImageData unscaled() const</div><div class="ttdoc">Return a similar object to the callee, but with the slope and intercept values reset.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:445</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a328c8d10d4ec7ba292f7490611db4bef"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a328c8d10d4ec7ba292f7490611db4bef">RNifti::NiftiImage::fileVersion</a></div><div class="ttdeci">static int fileVersion(const std::string &amp;path)</div><div class="ttdoc">Get the NIfTI format version used by the file at the specified path.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ae02fad418f34ee2e24fa7ed1fb6a9741"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ae02fad418f34ee2e24fa7ed1fb6a9741">RNifti::NiftiImage::xformToRotation</a></div><div class="ttdeci">static mat33 xformToRotation(const mat44 matrix)</div><div class="ttdoc">Extract the pure rotation part of a 4x4 xform matrix.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a954ca90ccb1349198d5442e013314558"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a954ca90ccb1349198d5442e013314558">RNifti::NiftiImage::updatePixdim</a></div><div class="ttdeci">void updatePixdim(const std::vector&lt; float &gt; &amp;pixdim)</div><div class="ttdoc">Modify the pixel dimensions, and potentially the xform matrices to match.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a863694f20c787839093e13f41af70255"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a863694f20c787839093e13f41af70255">RNifti::NiftiImage::block</a></div><div class="ttdeci">const Block block(const int i) const</div><div class="ttdoc">Extract a block from the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1094</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ab05a4a35cc6f2e47c57486fd211c121b"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ab05a4a35cc6f2e47c57486fd211c121b">RNifti::NiftiImageData::NiftiImageData</a></div><div class="ttdeci">NiftiImageData(const NiftiImageData &amp;source, const int datatype=DT_NONE)</div><div class="ttdoc">Copy constructor with optional type conversion.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:337</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_data_1_1_element_html_a99dad9729bdf6bd34b0d5197506efcbe"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_data_1_1_element.html#a99dad9729bdf6bd34b0d5197506efcbe">RNifti::NiftiImageData::Element::Element</a></div><div class="ttdeci">Element(const NiftiImageData &amp;parent, void *ptr=NULL)</div><div class="ttdoc">Primary constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:196</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a1fc8325e2db037d9374e254da0a0b8b4"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a1fc8325e2db037d9374e254da0a0b8b4">RNifti::NiftiImageData::isScaled</a></div><div class="ttdeci">bool isScaled() const</div><div class="ttdoc">Determine whether the object uses data scaling.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:414</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ab0d6288e0cc591cd6bb374429efeef93"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ab0d6288e0cc591cd6bb374429efeef93">RNifti::NiftiImage::data</a></div><div class="ttdeci">NiftiImageData data()</div><div class="ttdoc">Obtain the pixel data within the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:970</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ac2659bd59e1d35416f97b88f6618bedc"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ac2659bd59e1d35416f97b88f6618bedc">RNifti::NiftiImage::setPersistence</a></div><div class="ttdeci">NiftiImage &amp; setPersistence(const bool persistent)</div><div class="ttdoc">Mark the image as persistent, so that it can be passed back to R.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:879</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a8a4c7ddbb589b70e0560b781e5b42d4d"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a8a4c7ddbb589b70e0560b781e5b42d4d">RNifti::NiftiImage::getData</a></div><div class="ttdeci">std::vector&lt; TargetType &gt; getData(const bool useSlope=true) const</div><div class="ttdoc">Extract a vector of data from the image, casting it to any required element type.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_1_1_iterator_html_a8694ec0dd4b36b2705d36ece804e74ae"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data_1_1_iterator.html#a8694ec0dd4b36b2705d36ece804e74ae">RNifti::NiftiImageData::Iterator::Iterator</a></div><div class="ttdeci">Iterator(const Iterator &amp;other)</div><div class="ttdoc">Copy constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:263</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_aeb1d5e30e3d28a07b69844cec2514144"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#aeb1d5e30e3d28a07b69844cec2514144">RNifti::NiftiImage::copy</a></div><div class="ttdeci">void copy(const nifti_image *source)</div><div class="ttdoc">Copy the contents of a nifti_image to create a new image, acquiring the new pointer.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_adef4fc3497a306e281d5fd8df6234957"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#adef4fc3497a306e281d5fd8df6234957">RNifti::NiftiImage::xform</a></div><div class="ttdeci">mat44 xform(const bool preferQuaternion=true) const</div><div class="ttdoc">Obtain an xform matrix, indicating the orientation of the image.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a82c4e0968f416972783a3cad00b4a1dc"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a82c4e0968f416972783a3cad00b4a1dc">RNifti::NiftiImage::image</a></div><div class="ttdeci">nifti_image * image</div><div class="ttdoc">The wrapped nifti_image pointer.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:635</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a7a5af7b5c106f31623783560e00aca68"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a7a5af7b5c106f31623783560e00aca68">RNifti::NiftiImageData::intercept</a></div><div class="ttdeci">double intercept</div><div class="ttdoc">The intercept term used to scale data values.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:56</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ab6e0cdb0a6d381077299e6ccf057098c"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ab6e0cdb0a6d381077299e6ccf057098c">RNifti::NiftiImage::nDims</a></div><div class="ttdeci">int nDims() const</div><div class="ttdoc">Return the number of dimensions in the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:912</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_afe468724e2de9feee419f21a23d42c99"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#afe468724e2de9feee419f21a23d42c99">RNifti::NiftiImageData::dataPtr</a></div><div class="ttdeci">void * dataPtr</div><div class="ttdoc">Opaque pointer to the underlying data blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:117</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ad9b5928c05894f07b5711734519546f0"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ad9b5928c05894f07b5711734519546f0">RNifti::NiftiImageData::createHandler</a></div><div class="ttdeci">TypeHandler * createHandler()</div><div class="ttdoc">Create a concrete type handler appropriate to the datatype code stored with the data.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:94</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_aa8496487bdd61d6022c3f5bbe72367f5"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#aa8496487bdd61d6022c3f5bbe72367f5">RNifti::NiftiImageData::_length</a></div><div class="ttdeci">size_t _length</div><div class="ttdoc">The number of data elements in the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:120</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_acd4e31b5a4daf38193831967ae93c20b"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#acd4e31b5a4daf38193831967ae93c20b">RNifti::NiftiImageData::begin</a></div><div class="ttdeci">Iterator begin()</div><div class="ttdoc">Obtain a mutable iterator corresponding to the start of the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:460</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_ab7dc18d35249622b5dc43171cceee9fe"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#ab7dc18d35249622b5dc43171cceee9fe">RNifti::NiftiImage::volume</a></div><div class="ttdeci">Block volume(const int i)</div><div class="ttdoc">Extract a volume block from a 4D image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1131</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a196229dc7fc576021d95a5f1a87c4c3f"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a196229dc7fc576021d95a5f1a87c4c3f">RNifti::NiftiImageData::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdoc">Return the number of elements in the data.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:394</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html">RNifti::NiftiImageData</a></div><div class="ttdoc">Wrapper class encapsulating a NIfTI data blob, with responsibility for handling data scaling and poly...</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:52</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a73e10f56037f2f41bd5d306c29b3b4f1"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a73e10f56037f2f41bd5d306c29b3b4f1">RNifti::NiftiImage::drop</a></div><div class="ttdeci">NiftiImage &amp; drop()</div><div class="ttdoc">Drop unitary dimensions.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:950</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a5f145b2f0d45a22a27144a638cb2f2ec"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a5f145b2f0d45a22a27144a638cb2f2ec">RNifti::NiftiImageData::disown</a></div><div class="ttdeci">NiftiImageData &amp; disown()</div><div class="ttdoc">Disown the data blob, removing responsibility for freeing it upon destruction.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:451</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a0f3120655b15e3fa849d166a4e5873fc"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a0f3120655b15e3fa849d166a4e5873fc">RNifti::NiftiImage::reorient</a></div><div class="ttdeci">NiftiImage &amp; reorient(const int i, const int j, const int k)</div><div class="ttdoc">Reorient the image by permuting dimensions and potentially reversing some.</div></div>
<div class="ttc" id="struct_r_nifti_1_1_nifti_image_1_1_block_html_a9cfa242af69c4cf2d3e788170be52e8a"><div class="ttname"><a href="struct_r_nifti_1_1_nifti_image_1_1_block.html#a9cfa242af69c4cf2d3e788170be52e8a">RNifti::NiftiImage::Block::Block</a></div><div class="ttdeci">Block(const NiftiImage &amp;image, const int dimension, const int index)</div><div class="ttdoc">Standard constructor for this class.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:531</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a4417d0b493d4a8699737998b1fccaf24"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a4417d0b493d4a8699737998b1fccaf24">RNifti::NiftiImage::toFile</a></div><div class="ttdeci">void toFile(const std::string fileName, const int datatype=DT_NONE) const</div><div class="ttdoc">Write the image to a NIfTI-1 file.</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a81ec89f42c5c2a7d5343fc36a0cb8a33"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a81ec89f42c5c2a7d5343fc36a0cb8a33">RNifti::NiftiImageData::isFloatingPoint</a></div><div class="ttdeci">bool isFloatingPoint() const</div><div class="ttdoc">Determine whether the datatype is floating point.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:427</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a12e3e2f44dc97fd89d648ff403b7481b"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a12e3e2f44dc97fd89d648ff403b7481b">RNifti::NiftiImageData::NiftiImageData</a></div><div class="ttdeci">NiftiImageData(nifti_image *image)</div><div class="ttdoc">Convenience constructor for a nifti_image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:322</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_a8d3ce6768dc2c333ac06c039f034a2d4"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#a8d3ce6768dc2c333ac06c039f034a2d4">RNifti::NiftiImageData::end</a></div><div class="ttdeci">const Iterator end() const</div><div class="ttdoc">Obtain a constant iterator corresponding to the end of the blob.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:457</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ae205097bf159ffde5d8b28219ce042da"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ae205097bf159ffde5d8b28219ce042da">RNifti::NiftiImageData::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Determine whether or not the object is empty.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:407</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_data_html_ac8babd1a04a2dd6a49c2beac196e2ab7"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image_data.html#ac8babd1a04a2dd6a49c2beac196e2ab7">RNifti::NiftiImageData::NiftiImageData</a></div><div class="ttdeci">NiftiImageData(InputIterator from, InputIterator to, const int datatype)</div><div class="ttdoc">Iterator-based constructor.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:357</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_aad6f31a5bfc073ef4ea0648c29d75932"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#aad6f31a5bfc073ef4ea0648c29d75932">RNifti::NiftiImage::dropData</a></div><div class="ttdeci">NiftiImage &amp; dropData()</div><div class="ttdoc">Drop the data from the image, retaining only the metadata.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1025</div></div>
<div class="ttc" id="class_r_nifti_1_1_nifti_image_html_a96a7386170f4146a834cbefe280b35be"><div class="ttname"><a href="class_r_nifti_1_1_nifti_image.html#a96a7386170f4146a834cbefe280b35be">RNifti::NiftiImage::block</a></div><div class="ttdeci">Block block(const int i)</div><div class="ttdoc">Extract a block from the image.</div><div class="ttdef"><b>Definition:</b> NiftiImage.h:1103</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
